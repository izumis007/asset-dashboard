# Self-Hosted Asset Dashboard

ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã‚’é‡è¦–ã—ãŸã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆåž‹ã®è³‡ç”£ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã€‚Money Forwardã®ä»£æ›¿ã¨ã—ã¦ã€ãƒ“ãƒƒãƒˆã‚³ã‚¤ãƒ³ã‚’å«ã‚€å®¶è¨ˆè³‡ç”£ã‚’çµ±åˆç®¡ç†ã—ã¾ã™ã€‚

## ðŸš§ WIP
ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã¯ç¾åœ¨é–‹ç™ºä¸­ã§ã™ã€‚è¨­è¨ˆã‚„å®Ÿè£…ã¯å¤‰æ›´ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒé«˜ãã€æœ¬ç•ªç’°å¢ƒã§ã®åˆ©ç”¨ã¯æƒ³å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

## ä¸»ãªæ©Ÿèƒ½

- ðŸ“Š **è³‡ç”£ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: ç·è³‡ç”£é¡ã€å±¥æ­´ãƒˆãƒ¬ãƒ³ãƒ‰ã€è³‡ç”£é…åˆ†ã®å¯è¦–åŒ–
- ðŸ’° **ãƒžãƒ«ãƒè³‡ç”£å¯¾å¿œ**: æ ªå¼ã€ETFã€æŠ•è³‡ä¿¡è¨—ã€å‚µåˆ¸ã€æš—å·è³‡ç”£ã€ç¾é‡‘
- ðŸ” **ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼é‡è¦–**: å®Œå…¨ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆã€ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ä¸è¦
- ðŸ“ˆ **è‡ªå‹•ä¾¡æ ¼æ›´æ–°**: è¤‡æ•°ã®APIã‚½ãƒ¼ã‚¹ã‹ã‚‰æ—¥æ¬¡ã§ä¾¡æ ¼å–å¾—
- ðŸ’¸ **BTCæç›Šè¨ˆç®—**: FIFO/HIFOå¯¾å¿œã€Excelå‡ºåŠ›å¯èƒ½
- ðŸ¦ **Money Forwardé€£æº**: éŠ€è¡Œæ®‹é«˜ã®è‡ªå‹•å–å¾—
- ðŸ“± **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–UI**: ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ»ã‚¹ãƒžãƒ¼ãƒˆãƒ•ã‚©ãƒ³å¯¾å¿œ

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **Backend**: FastAPI (Python 3.12), PostgreSQL, Celery, Redis
- **Frontend**: Next.js 14, React, TypeScript, TailwindCSS
- **Infrastructure**: Docker Compose, Caddy
- **Security**: JWTèªè¨¼, TOTP 2FAå¯¾å¿œ

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. å‰ææ¡ä»¶

- Docker & Docker Compose
- Git

### 2. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/yourusername/asset-dashboard.git
cd asset-dashboard

# ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
cp .env.example .env
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦å¿…è¦ãªå€¤ã‚’è¨­å®š

# èµ·å‹•
docker-compose up -d
```

### 3. åˆæœŸè¨­å®š

1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost` ã«ã‚¢ã‚¯ã‚»ã‚¹
2. æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²
3. è¨­å®šç”»é¢ã§APIã‚­ãƒ¼ã‚’è¨­å®šï¼š
   - Twelve Data API (æŽ¨å¥¨)
   - Alpha Vantage API (ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—)
   - Money Forwardèªè¨¼æƒ…å ±ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

### 4. è³‡ç”£ã®ç™»éŒ²

1. Assets â†’ Add Assetã§è³‡ç”£ã‚’ç™»éŒ²
2. Holdings â†’ Add Holdingã§ä¿æœ‰æ•°é‡ã‚’å…¥åŠ›
3. BTCã®å ´åˆã¯BTC Tradesç”»é¢ã§å–å¼•å±¥æ­´ã‚’è¨˜éŒ²

## ç’°å¢ƒå¤‰æ•°

```env
# Database
POSTGRES_PASSWORD=secure_password_here

# Redis  
REDIS_PASSWORD=secure_redis_password

# Application
SECRET_KEY=your_32_char_secret_key_here

# API Keys (æœ€ä½Ž1ã¤å¿…è¦)
TWELVE_DATA_API_KEY=your_key  # ç„¡æ–™ãƒ—ãƒ©ãƒ³: 800ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ—¥
ALPHA_VANTAGE_API_KEY=your_key  # ç„¡æ–™ãƒ—ãƒ©ãƒ³: 5ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†

# Money Forward (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
MONEY_FORWARD_EMAIL=your_email
MONEY_FORWARD_PASSWORD=your_password
```

## APIã‚­ãƒ¼ã®å–å¾—

### Twelve Data (æŽ¨å¥¨)
1. https://twelvedata.com ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ç„¡æ–™ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
3. APIã‚­ãƒ¼ã‚’å–å¾—ï¼ˆ800ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ—¥ï¼‰

### Stooq
- APIã‚­ãƒ¼ä¸è¦
- è‡ªå‹•çš„ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨ã—ã¦ä½¿ç”¨

### Alpha Vantage
1. https://www.alphavantage.co ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ç„¡æ–™APIã‚­ãƒ¼å–å¾—ï¼ˆ5ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†ï¼‰

## ä½¿ç”¨æ–¹æ³•

### æ—¥æ¬¡ã®é‹ç”¨

1. **è‡ªå‹•æ›´æ–°**: æ¯Žæ—¥0:30 JSTã«ä¾¡æ ¼ã‚’è‡ªå‹•å–å¾—
2. **æ‰‹å‹•æ›´æ–°**: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®ã€ŒRefresh Pricesã€ãƒœã‚¿ãƒ³

### BTCæç›Šè¨ˆç®—

1. BTC Tradesç”»é¢ã§å–å¼•å±¥æ­´ã‚’å…¥åŠ›
2. å£²å´å–å¼•ã‚’é¸æŠžã—ã¦ã€ŒCalculate Gainã€
3. FIFO/HIFOæ–¹å¼ã‚’é¸æŠž
4. Excelå½¢å¼ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—

```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
docker-compose exec postgres pg_dump -U postgres asset_dashboard > backup.sql

# ãƒªã‚¹ãƒˆã‚¢
docker-compose exec -T postgres psql -U postgres asset_dashboard < backup.sql
```

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- HTTPSé€šä¿¡ï¼ˆCaddyã«ã‚ˆã‚‹è‡ªå‹•è¨¼æ˜Žæ›¸ï¼‰
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–ï¼ˆbcryptï¼‰
- TOTP 2FAå¯¾å¿œ
- ç’°å¢ƒå¤‰æ•°ã«ã‚ˆã‚‹æ©Ÿå¯†æƒ…å ±ç®¡ç†
- BTCã‚¢ãƒ‰ãƒ¬ã‚¹/XPubã¯ä¿å­˜ã—ãªã„

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ä¾¡æ ¼ãŒæ›´æ–°ã•ã‚Œãªã„
- APIã‚­ãƒ¼ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- `docker-compose logs backend`ã§ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª

### Money Forwardã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ãŒå¤±æ•—
- èªè¨¼æƒ…å ±ã‚’ç¢ºèª
- `docker-compose logs scraper`ã§ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª
- Money Forwardã®ä»•æ§˜å¤‰æ›´ã®å¯èƒ½æ€§

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æŽ¥ç¶šã‚¨ãƒ©ãƒ¼
```bash
